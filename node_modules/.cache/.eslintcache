[{"/Users/apple/Documents/GitHub/Todo-App/frontend/src/index.js":"1","/Users/apple/Documents/GitHub/Todo-App/frontend/src/App.js":"2","/Users/apple/Documents/GitHub/Todo-App/frontend/src/components/FilterButton.js":"3","/Users/apple/Documents/GitHub/Todo-App/frontend/src/components/Form.js":"4","/Users/apple/Documents/GitHub/Todo-App/frontend/src/components/Todo.js":"5"},{"size":219,"mtime":1615122547447,"results":"6","hashOfConfig":"7"},{"size":3035,"mtime":1615122547446,"results":"8","hashOfConfig":"7"},{"size":376,"mtime":1615114898919,"results":"9","hashOfConfig":"7"},{"size":952,"mtime":1615114898919,"results":"10","hashOfConfig":"7"},{"size":2442,"mtime":1615122547446,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ii8dsm",{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/apple/Documents/GitHub/Todo-App/frontend/src/index.js",[],"/Users/apple/Documents/GitHub/Todo-App/frontend/src/App.js",["23"],"import React, {useState, useEffect, useRef} from 'react';\nimport axios from 'axios';\nimport {nanoid} from 'nanoid';\nimport Todo from './components/Todo';\nimport Form from './components/Form';\nimport FilterButton from './components/FilterButton';\nimport {usePrevious} from './components/Todo';\n\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\nconst FILTER_MAP = {\n  All: () => true,\n  Active: todo => !todo.completed,\n  Completed: todo => todo.completed\n}\n\nconst FILTER_NAMES = Object.keys(FILTER_MAP);\n\n//=============App component================\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [filter, setFilter] = useState('All');\n\n  // get data\n  useEffect(() => {\n    updateList();\n  }, []);\n\n  // helper function\n  const updateList = () => {\n    axios\n      .get('http://localhost:8000/api/todos')\n      .then(res => setTodos(res.data))\n      .catch(err => console.log(err));\n  }\n\n  // list of filter buttons\n  const filterButtons = FILTER_NAMES.map(name => (\n    <FilterButton key={name} name={name} pressed={name === filter} setFilter={setFilter} />\n  ));\n\n  const addTask = (name) => {\n    axios\n      .post('http://localhost:8000/api/todos/', {name})\n      .then(res => updateList())\n      .catch(err => console.log(err));\n  }\n\n  const handleOnCheckChange = (id) => {\n    const todo = todos.find(todo => todo.id === id);\n    const currentCompleted = todo.completed;\n    axios\n      .patch(`http://localhost:8000/api/todos/${id}/`, {completed: !currentCompleted})\n      .then(res => updateList())\n      .catch(err => console.log(err));\n  }\n\n  const handleOnClickDelete = (id) => {\n    axios\n      .delete(`http://localhost:8000/api/todos/${id}`)\n      .then(res => updateList())\n      .catch(err => console.log(err));\n  }\n\n  const handleOnClickSave = (id, newName) => {\n    axios\n      .patch(`http://localhost:8000/api/todos/${id}/`, {name: newName})\n      .then(res => updateList())\n      .catch(err => console.log(err));\n  }\n\n  const listHeadingRef = useRef(null);\n  const prevTodosLength = usePrevious(todos.length);\n\n  useEffect(() => {\n    if (todos.length - prevTodosLength === -1) {\n      listHeadingRef.current.focus();\n    }\n  }, [todos.length, prevTodosLength]);\n\n  return (\n    <div className=\"todoapp stack-large\">\n      <h1>HandyTodo</h1>\n      <Form addTask={addTask} />\n      <div className=\"filters btn-group stack-exception\">\n        {filterButtons}\n      </div>\n      <h2 id=\"list-heading\" tabIndex=\"-1\" ref={listHeadingRef}>\n        {todos.length > 1 ? `${todos.length} tasks remaining` : `${todos.length} task remaining`}\n      </h2>\n      <ul\n        className=\"todo-list stack-large stack-exception\"\n        aria-labelledby=\"list-heading\"\n      >\n        {todos.filter(FILTER_MAP[filter]).map(todo => <Todo key={todo.id} id={todo.id} name={todo.name} completed={todo.completed} onCheckChange={handleOnCheckChange} onClickDelete={handleOnClickDelete} onClickSave={handleOnClickSave} />)}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/apple/Documents/GitHub/Todo-App/frontend/src/components/FilterButton.js",[],"/Users/apple/Documents/GitHub/Todo-App/frontend/src/components/Form.js",[],"/Users/apple/Documents/GitHub/Todo-App/frontend/src/components/Todo.js",[],{"ruleId":"24","severity":1,"message":"25","line":3,"column":9,"nodeType":"26","messageId":"27","endLine":3,"endColumn":15},"no-unused-vars","'nanoid' is defined but never used.","Identifier","unusedVar"]